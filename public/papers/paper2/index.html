<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Spatial panel-data models using Stata | Andrea Piano Mortari</title>
<meta name="keywords" content="Software, Spatial, Econometrics">
<meta name="description" content="xsmle is a user-written command for spatial panel analysis.">
<meta name="author" content="Federico Belotti,&thinsp;Gordon Hughes,&thinsp;Andrea Piano Mortari">
<link rel="canonical" href="https://Andreapm1977.github.io/papers/paper2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fdef9ee759c868e1e94432f65c96e619da33b8922a9dd5c5e239f740df4826e9.css" integrity="sha256-/e&#43;e51nIaOHpRDL2XJbmGdozuJIqndXF4jn3QN9IJuk=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://Andreapm1977.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://Andreapm1977.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://Andreapm1977.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://Andreapm1977.github.io/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Spatial panel-data models using Stata" />
<meta property="og:description" content="xsmle is a user-written command for spatial panel analysis." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Andreapm1977.github.io/papers/paper2/" />
<meta property="og:image" content="https://Andreapm1977.github.io/paper2.png" /><meta property="article:section" content="papers" />
<meta property="article:published_time" content="2017-03-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-03-01T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://Andreapm1977.github.io/paper2.png" />
<meta name="twitter:title" content="Spatial panel-data models using Stata"/>
<meta name="twitter:description" content="xsmle is a user-written command for spatial panel analysis."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Papers",
      "item": "https://Andreapm1977.github.io/papers/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Spatial panel-data models using Stata",
      "item": "https://Andreapm1977.github.io/papers/paper2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Spatial panel-data models using Stata",
  "name": "Spatial panel-data models using Stata",
  "description": "xsmle is a user-written command for spatial panel analysis.",
  "keywords": [
    "Software", "Spatial", "Econometrics"
  ],
  "articleBody": " Download Paper Code and data Abstract xsmle is a new user-written command for spatial analysis. We consider the quasi–maximum likelihood estimation of a wide set of both fixed- and random-effects spatial models for balanced panel data. xsmle allows users to handle unbalanced panels using its full compatibility with the mi suite of commands, use spatial weight matrices in the form of both Stata matrices and xsmle objects, compute direct, indirect, and total marginal effects and related standard errors for linear (in variables) specifications, and exploit a wide range of postestimation features, including the panel-data case predictors of Kelejian and Prucha (2007, Regional Science and Urban Economics 37: 363–374). Moreover, xsmle allows the use of margins to compute total marginal effects in the presence of nonlinear specifications obtained using factor variables. In this article, we describe the command and all of its functionalities using simulated and real data.\nxsmle postestimation: predicted FE Citation Belotti, F., Hughes, G., \u0026 Piano Mortari, A. (2017). “Spatial Panel-data Models Using Stata”. The Stata Journal, 17(1), 139-180. https://doi.org/10.1177/1536867X1701700109 @article{sj_2017, author = {Belotti, F. and Hughes, G. and {Piano Mortari}, A.}, journal = {The Stata Journal}, number = {1}, pages = {139-180}, title = {Spatial panel data models using Stata}, volume = {17}, year = 2017} Related material Presentation slides ",
  "wordCount" : "213",
  "inLanguage": "en",
  "image":"https://Andreapm1977.github.io/paper2.png","datePublished": "2017-03-01T00:00:00Z",
  "dateModified": "2017-03-01T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Federico Belotti"
  }, {
    "@type": "Person",
    "name": "Gordon Hughes"
  }, {
    "@type": "Person",
    "name": "Andrea Piano Mortari"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://Andreapm1977.github.io/papers/paper2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Andrea Piano Mortari",
    "logo": {
      "@type": "ImageObject",
      "url": "https://Andreapm1977.github.io/favicon.ico"
    }
  }
}
</script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: "\\begin{equation}", right: "\\end{equation}", display: true},
            {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
            {left: "\\begin{align}", right: "\\end{align}", display: true},
            {left: "\\begin{align*}", right: "\\end{align*}", display: true},
            {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
            {left: "\\begin{gather}", right: "\\end{gather}", display: true},
            {left: "\\begin{CD}", right: "\\end{CD}", display: true},
          ],
          throwOnError : false
        });
    });
</script>
 


</head>

<body class="" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://Andreapm1977.github.io/" accesskey="h" title="Andrea Piano Mortari">
                <img src="https://Andreapm1977.github.io/favicon.ico" alt="" aria-label="logo"
                    height="18"
                    width="18">Andrea Piano Mortari</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://Andreapm1977.github.io/papers/" title="Papers">
                    <span>Papers</span>
                </a>
            </li>
            <li>
                <a href="https://Andreapm1977.github.io/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://Andreapm1977.github.io/teaching/" title="Teaching">
                    <span>Teaching</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Spatial panel-data models using Stata
    </h1>
    <div class="post-meta"><span title='2017-03-01 00:00:00 +0000 UTC'>March 2017</span>&nbsp;&middot;&nbsp;Federico Belotti,&thinsp;Gordon Hughes,&thinsp;Andrea Piano Mortari&nbsp;&middot;&nbsp;<a href="https://doi.org/10.1177/1536867X1701700109" rel="noopener noreferrer" target="_blank">The Stata Journal</a>

</div>
  </header> 
  <div class="post-content"><hr>
<h5 id="download">Download</h5>
<ul>
<li><a href="paper2.pdf">Paper</a>
</li>
<li><a href="https://Andreapm1977.github.io" target="_blank">Code and data</a>
</li>
</ul>
<hr>
<h5 id="abstract">Abstract</h5>
<p><em>xsmle</em> is a new user-written command for spatial analysis. We consider the quasi–maximum likelihood estimation of a wide set of both fixed- and random-effects spatial models for balanced panel data. <em>xsmle</em> allows users to handle unbalanced panels using its full compatibility with the
<em>mi</em> suite of commands, use spatial weight matrices in the form of both Stata matrices and <em>xsmle</em> objects, compute direct, indirect, and total marginal effects and related standard errors for linear (in variables) specifications, and exploit a wide range of postestimation features, including the panel-data case predictors of Kelejian and Prucha (2007, <em>Regional Science and Urban Economics</em> 37: 363–374). Moreover, <em>xsmle</em> allows the use of <em>margins</em> to compute total marginal effects in the presence of nonlinear specifications obtained using factor variables. In this article, we describe the command and all of its functionalities using simulated and real data.</p>
<hr>
<h5 id="xsmle-postestimation-predicted-fe">xsmle postestimation: predicted FE</h5>
<p><img loading="lazy" src="paper2.png" alt=""  />
</p>
<hr>
<h5 id="citation">Citation</h5>
<p>Belotti, F., Hughes, G., &amp; Piano Mortari, A. (2017). &ldquo;Spatial Panel-data Models Using Stata&rdquo;. <em>The Stata Journal</em>, 17(1), 139-180. <a href="https://doi.org/10.1177/1536867X1701700109" target="_blank">https://doi.org/10.1177/1536867X1701700109</a>
</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-BibTeX" data-lang="BibTeX"><span style="display:flex;"><span><span style="color:#0a0;text-decoration:underline">@article</span>{sj_2017,
</span></span><span style="display:flex;"><span>	<span style="color:#1e90ff">author</span> = <span style="color:#a50">{Belotti, F. and Hughes, G. and {Piano Mortari}, A.}</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#1e90ff">journal</span> = <span style="color:#a50">{The Stata Journal}</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#1e90ff">number</span> = <span style="color:#a50">{1}</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#1e90ff">pages</span> = <span style="color:#a50">{139-180}</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#1e90ff">title</span> = <span style="color:#a50">{Spatial panel data models using Stata}</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#1e90ff">volume</span> = <span style="color:#a50">{17}</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#1e90ff">year</span> = <span style="color:#099">2017</span>}
</span></span></code></pre></div><hr>
<h5 id="related-material">Related material</h5>
<ul>
<li><a href="presentation2.pdf">Presentation slides</a>
</li>
</ul>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://Andreapm1977.github.io/tags/software/">Software</a></li>
      <li><a href="https://Andreapm1977.github.io/tags/spatial/">Spatial</a></li>
      <li><a href="https://Andreapm1977.github.io/tags/econometrics/">Econometrics</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://Andreapm1977.github.io/">Andrea Piano Mortari</a></span> ·     
    <span>
    Powered by 
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/pmichaillat/hugo-website/" rel="noopener" target="_blank">a modified version</a>
         of 
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>
</html>
